((e,t)=>{const s=document.body;let a,i,n,o=[];const d="in-view",r="out-of-view",c="track-view";e.addEventListener("DOMContentLoaded",(()=>{a=t.querySelectorAll(".vpa-track"),i=t.querySelectorAll(".vpa-no-track")})),e.addEventListener("elementor/frontend/init",(()=>{v()})),e.addEventListener("resize",(()=>{o.forEach((e=>{e.disconnect()})),o=[],n=s.dataset.elementorDeviceMode,b()}));const v=()=>{n=s.dataset.elementorDeviceMode,l(),b()},l=()=>{[...a,...i].forEach((e=>{const t={mobile:{css:!e.hasAttribute("data-mobile-disable-css"),events:!e.hasAttribute("data-mobile-disable-events")},tablet:{css:!e.hasAttribute("data-tablet-disable-css"),events:!e.hasAttribute("data-tablet-disable-events")},desktop:{css:!e.hasAttribute("data-desktop-disable-css"),events:!e.hasAttribute("data-desktop-disable-events")}},s=e.dataset.eventPrefix?e.dataset.eventPrefix+"_":"",a={conditions:t,eventPrefix:s,inViewEventName:s+c+"/in",outViewEventName:s+c+"/out"};e.dataset.vpaSettings=JSON.stringify(a);const i=e.querySelector("*:first-child"),n=e.getAttribute("style");i.setAttribute("style",n),e.classList.add("vpa-initalized")}))},b=()=>{a.forEach((e=>{h(e)}))},u=(t,s)=>{const a=new CustomEvent(t,{detail:s});e.dispatchEvent(a)},m=(e,t)=>{const s=JSON.parse(e.dataset.vpaSettings),{conditions:a,eventPrefix:i,inViewEventName:o,outViewEventName:c}=s;a[n].events&&u(o,t),a[n].css&&(e.classList.add(d),e.classList.remove(r))},p=(e,t)=>{const s=JSON.parse(e.dataset.vpaSettings),{conditions:a,eventPrefix:i,inViewEventName:o,outViewEventName:c}=s;a[n].events&&u(c,t),a[n].css&&(e.classList.remove(d),e.classList.add(r))},h=e=>{const t=e.dataset.ioTop?e.dataset.ioTop:"-20%",s=e.dataset.ioBottom?e.dataset.ioBottom:"-20%";let a=new IntersectionObserver(((t,s)=>{t.forEach((t=>{t.isIntersecting?m(e,t):p(e,t)}))}),{root:null,rootMargin:t+" 0px "+s+" 0px",threshold:1e-4});a.observe(e),o.push(a)};e._VPA={setInView:m,setOutOfView:p}})(window,document);
